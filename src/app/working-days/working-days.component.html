<div class="vh">
    <div class="working-days back">
        <div>
            <button  [routerLink]="['/details', employee.fullName, employee.id]" pButton pRipple type="button" label="Back" class="p-button-outlined p-button-secondary back"></button>
            <p-dropdown [options]="month" [(ngModel)]="selectedMonth" optionLabel="name" (click)="getMonth()"></p-dropdown>
        </div>
    </div>
    <div class="working-days">
        <p-table [value]="workingDays" dataKey="id" [tableStyle]="{ 'min-width': '50rem' }">
            <ng-template pTemplate="header">
                <tr>
                    <th style="width:25%">Date</th>
                    <th style="width:25%">In</th>
                    <th style="width:25%">Out</th>
                    <th style="width:25%">Time</th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-day let-editing="editing">
                <tr *ngIf="dateCompar(day.in) || selectedMonth!.name == 'All'">
                    <td [pEditableColumn]="day.in" pEditableColumnField="in">
                        <p-cellEditor>
                            <ng-template pTemplate="input">
                                <input pInputText type="number" [(ngModel)]="day.in" />
                            </ng-template>
                            <ng-template pTemplate="output">
                                {{ day.in | date: 'dd.MMMM.y'}}
                            </ng-template>
                        </p-cellEditor>
                    </td>
                    <td [pEditableColumn]="day.in" pEditableColumnField="in" class="td">
                        <p-cellEditor>
                            <ng-template pTemplate="input">
                                <input pInputText type="number" [(ngModel)]="day.in" required />
                            </ng-template>
                            <ng-template pTemplate="output">
                                {{ day.in | date: 'HH:mm:ss' }}
                            </ng-template>
                        </p-cellEditor>
                        <p-cellEditor *ngIf="day.in < day.in1">
                            <ng-template pTemplate="input">
                                <input pInputText type="number" [(ngModel)]="day.in1" required />
                            </ng-template>
                            <ng-template pTemplate="output">
                                {{ day.in1 | date: 'HH:mm:ss' }}
                            </ng-template>
                        </p-cellEditor>
                    </td>
                    <td [pEditableColumn]="day.out" pEditableColumnField="out" class="td">
                        <p-cellEditor>
                            <ng-template pTemplate="input">
                                <input pInputText type="number" [(ngModel)]="day.out" required />
                            </ng-template>
                            <ng-template pTemplate="output">
                                {{ day.out | date: 'HH:mm:ss'}}
                            </ng-template>
                        </p-cellEditor>
                        <p-cellEditor *ngIf="day.out < day.out1">
                            <ng-template pTemplate="input">
                                <input pInputText type="number" [(ngModel)]="day.out1" required />
                            </ng-template>
                            <ng-template pTemplate="output">
                                {{ day.out1 | date: 'HH:mm:ss'}}
                            </ng-template>
                        </p-cellEditor>
                    </td>
                    <td [pEditableColumn]="day.time" pEditableColumnField="time">
                        <p-cellEditor>
                            <ng-template pTemplate="input">
                                <input pInputText type="number" [(ngModel)]="day.allTime" />
                            </ng-template>
                            <ng-template pTemplate="output">
                                {{ day.allTime - 3600000 | date: 'HH:mm:ss'}}
                            </ng-template>
                        </p-cellEditor>
                    </td>
                </tr>
            </ng-template>
        </p-table>
    </div>
</div>


